<html>
  <title>Windows for Babel</title>
  <h2>Windows for Babel</h2>

<p>I have compiled openbabel under gpp/gcc. The results of running it are collected here. In several cases there are errors of the form
<pre>

C:\OPENBA~2\testMols>babel.exe -imol mol\test3d.mol -obgf mol\test3d.bgf
end of openbabel
Exiting due to signal SIGSEGV
General Protection Fault at eip=000bf98d
eax=f3d00000 ebx=002f17cc ecx=002f2bee edx=f3f47e54 esi=002f2bee edi=bcf40000
ebp=002cc73c esp=002cc730 program=C:\OPENBA~2\SRC\BABEL.EXE
cs: sel=5477  base=02710000  limit=0031ffff
ds: sel=547f  base=02710000  limit=0031ffff
es: sel=547f  base=02710000  limit=0031ffff
fs: sel=544f  base=00007550  limit=0000ffff
gs: sel=548f  base=00000000  limit=0010ffff
ss: sel=547f  base=02710000  limit=0031ffff
App stack: [002cc950..0024c950]  Exceptn stack: [0024c8ac..0024a96c]

Call frame traceback EIPs:
  0x000bf98d
  0x000cf771
  0x000efd3c
  0x000949dd
  0x000955cc
  0x000960ad
  0x00094a14
  0x000955cc
  0x0000916a
  0x0000bdcf
  0x0000cb05

</pre>
which occur <i>after the return(0) in main().</i>. I assume they are due to memory leaks - they don't appear to affect the running of the program though they may affect the results.</p>
<p>The modules showing this behaviour are:</p>
<pre>
@REM these may have memory leaks on input
@call foo2bar2foo %1 pdb %2

@REM these may have memory leaks on output
@call foo2bar2foo %1 alc %2
@call foo2bar2foo %1 c3d1 %2
@call foo2bar2foo %1 c3d2 %2
@call foo2bar2foo %1 hin %2
@call foo2bar2foo %1 mmod %2
@call foo2bar2foo %1 mol2 %2
</pre>


<p>Things which don't seem right are:
<ul>
<li>the atom types in mol2 output (e.g. C3~ instead of C.3)</li>
</ul>
</p>
<p>There is a fundamental difficulty with transmitting whether cordinates are 2- or 3-D. I urge a redesign of mol.h to support both</p>

<p>The files and directories are:
  <ul>
  <li><a href="foo2bar.bat">foo2bar.bat</a>, converts the starting file (e.g. test.foo to format bar (test.bar). Used when bar as no input routine. </li>
  <li><a href="foo2bar2foo.bat">foo2bar2foo.bat</a>, roundtrips the starting file (e.g. test.foo to format bar (test.bar) and then back to foo (test.bar.foo). Note that if no information is lost these files should be indentical. In particular test.foo.foo will show how much information is stored in the datastructure</li>
  <li><a href="runtest.bat">runtest.bat</a>, runs all the tests</li>
  <li><a href="runtest0.bat">runtest0.bat</a>, intermediate file to support the various types</li>
  <li><a href="cml/">cml directory</a>, starts with test2d.cml and test3d.cml</li>
  <li><a href="mol/">mol directory</a>, starts with test2d.mol and test3d.mol</li>
  <li><a href="mol2/">mol2 directory</a>, starts with test.mol2 </li>
  <li><a href="pdb/">pdb directory</a>, starts with test.pdb </li>
  <li><a href="xyz/">xyz directory</a>, starts with test.xyz </li>
  </ul>
  </p>
</html>